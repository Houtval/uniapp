"use strict";const a=require("../../../../common/vendor.js"),u=require("../function/index.js"),o=require("../function/test.js"),h={props:{customStyle:{type:[Object,String],default:()=>({})},customClass:{type:String,default:""},url:{type:String,default:""},linkType:{type:String,default:"navigateTo"}},data(){return{}},onLoad(){this.$uv.getRect=this.$uvGetRect},created(){this.$uv.getRect=this.$uvGetRect},computed:{$uv(){return{...u.index,test:o.test}},bem(){return function(t,e,n){const i=`uv-${t}--`,r={};return e&&e.map(s=>{r[i+this[s]]=!0}),n&&n.map(s=>{this[s]?r[i+s]=this[s]:delete r[i+s]}),Object.keys(r)}}},methods:{openPage(t="url"){const e=this[t];e&&a.index[this.linkType]({url:e})},$uvGetRect(t,e){return new Promise(n=>{a.index.createSelectorQuery().in(this)[e?"selectAll":"select"](t).boundingClientRect(i=>{e&&Array.isArray(i)&&i.length&&n(i),!e&&i&&n(i)}).exec()})},getParentData(t=""){this.parent||(this.parent={}),this.parent=this.$uv.$parent.call(this,t),this.parent.children&&this.parent.children.indexOf(this)===-1&&this.parent.children.push(this),this.parent&&this.parentData&&Object.keys(this.parentData).map(e=>{this.parentData[e]=this.parent[e]})},preventEvent(t){t&&typeof t.stopPropagation=="function"&&t.stopPropagation()},noop(t){this.preventEvent(t)}},onReachBottom(){a.index.$emit("uvOnReachBottom")},beforeDestroy(){if(this.parent&&o.array(this.parent.children)){const t=this.parent.children;t.map((e,n)=>{e===this&&t.splice(n,1)})}}};exports.mixin=h;

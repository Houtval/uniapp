"use strict";const u=require("../../../uv-ui-tools/libs/mixin/mpMixin.js"),l=require("../../../uv-ui-tools/libs/mixin/mixin.js"),h=require("./props.js"),i=require("../../../../common/vendor.js");require("../../../uv-ui-tools/libs/function/index.js");require("../../../uv-ui-tools/libs/function/test.js");require("../../../uv-ui-tools/libs/function/digit.js");const d={name:"uv-input",mixins:[u.mpMixin,l.mixin,h.props],data(){return{innerValue:"",focused:!1,firstChange:!0,changeFromInner:!1,innerFormatter:e=>e}},watch:{modelValue:{immediate:!0,handler(e,o){this.innerValue=e,this.firstChange=!1,this.changeFromInner=!1}}},computed:{isShowClear(){const{clearable:e,readonly:o,focused:s,innerValue:t}=this;return!!e&&!o&&!!s&&t!==""},inputClass(){let e=[],{border:o,disabled:s,shape:t}=this;return o==="surround"&&(e=e.concat(["uv-border","uv-input--radius"])),e.push(`uv-input--${t}`),o==="bottom"&&(e=e.concat(["uv-border-bottom","uv-input--no-radius"])),e.join(" ")},wrapperStyle(){const e={};return this.disabled&&(e.backgroundColor=this.disabledColor),this.border==="none"?e.padding="0":(e.paddingTop="6px",e.paddingBottom="6px",e.paddingLeft="9px",e.paddingRight="9px"),this.$uv.deepMerge(e,this.$uv.addStyle(this.customStyle))},inputStyle(){return{color:this.color,fontSize:this.$uv.addUnit(this.fontSize),textAlign:this.inputAlign}}},methods:{setFormatter(e){this.innerFormatter=e},onInput(e){let{value:o=""}=e.detail||{};const t=(this.formatter||this.innerFormatter)(o);this.innerValue=o,this.$nextTick(()=>{this.innerValue=t,this.valueChange()})},onBlur(e){this.$emit("blur",e.detail.value),this.$uv.sleep(50).then(()=>{this.focused=!1}),this.$uv.formValidate(this,"blur")},onFocus(e){this.focused=!0,this.$emit("focus")},onConfirm(e){this.$emit("confirm",this.innerValue)},onkeyboardheightchange(){this.$emit("keyboardheightchange")},valueChange(){const e=this.innerValue;this.$nextTick(()=>{this.$emit("update:modelValue",e),this.changeFromInner=!0,this.$emit("change",e),this.$uv.formValidate(this,"change")})},onClear(){this.innerValue="",this.$nextTick(()=>{this.valueChange(),this.$emit("clear")})},clickHandler(){}}};Array||i.resolveComponent("uv-icon")();const c=()=>"../../../uv-icon/components/uv-icon/uv-icon.js";Math||c();function m(e,o,s,t,a,n){return i.e({a:e.prefixIcon},e.prefixIcon?{b:i.p({name:e.prefixIcon,size:"18",customStyle:e.prefixIconStyle})}:{},{c:i.s(n.inputStyle),d:e.type,e:e.focus,f:e.cursor,g:a.innerValue,h:e.autoBlur,i:e.disabled||e.readonly,j:e.maxlength,k:e.placeholder,l:e.placeholderStyle,m:e.placeholderClass,n:e.confirmType,o:e.confirmHold,p:e.holdKeyboard,q:e.cursorSpacing,r:e.adjustPosition,s:e.selectionEnd,t:e.selectionStart,v:e.password||e.type==="password"||void 0,w:e.ignoreCompositionEvent,x:i.o((...r)=>n.onInput&&n.onInput(...r)),y:i.o((...r)=>n.onBlur&&n.onBlur(...r)),z:i.o((...r)=>n.onFocus&&n.onFocus(...r)),A:i.o((...r)=>n.onConfirm&&n.onConfirm(...r)),B:i.o((...r)=>n.onkeyboardheightchange&&n.onkeyboardheightchange(...r)),C:i.o(()=>{}),D:i.o((...r)=>n.clickHandler&&n.clickHandler(...r)),E:n.isShowClear},n.isShowClear?{F:i.p({name:"close",size:"11",color:"#ffffff",customStyle:"line-height: 12px"}),G:i.o((...r)=>n.onClear&&n.onClear(...r))}:{},{H:e.suffixIcon},e.suffixIcon?{I:i.p({name:e.suffixIcon,size:"18",customStyle:e.suffixIconStyle})}:{},{J:i.n(n.inputClass),K:i.s(n.wrapperStyle)})}const f=i._export_sfc(d,[["render",m],["__scopeId","data-v-651602aa"],["__file","D:/imformation/uni-app/stm32/uni_modules/uv-input/components/uv-input/uv-input.vue"]]);wx.createComponent(f);

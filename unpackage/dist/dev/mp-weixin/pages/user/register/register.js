"use strict";const e=require("../../../common/vendor.js");require("../../../mqtt/mqtt.js");const a=require("../../../api/index.js"),m={data(){return{showPassword:!0,passwordIcon:"lock",form:{userInfo:{username:"",password:""}},rules:{"userInfo.username":{type:"string",required:!0,message:"请填写用户名",trigger:["blur","change"]},"userInfo.password":{type:"string",required:!0,message:"请填写密码",trigger:["blur","change"]}},radio:"",switchVal:!1}},methods:{submit(){this.$refs.uvFormRef.validate().then(u=>{e.index.request({header:{"Content-Type":"application/json"},url:a.apiUrl+"/user/register",method:"POST",data:{username:this.form.userInfo.username,password:this.form.userInfo.password},dataType:"json",success:r=>{r.data.code=="2000"?(e.index.showToast({icon:"success",title:"注册成功"}),setTimeout(function(){e.index.navigateBack(1)},1e3)):e.index.showToast({icon:"success",title:r.data.message})}})})},reset(){this.$refs.uvFormRef.resetFields(),this.$refs.uvFormRef.clearValidate()},login(){e.index.navigateBack(1),this.$refs.uvFormRef.clearValidate()},hideKeyboard(){e.index.hideKeyboard()},showPasswordMethod(){this.showPassword==!1?(this.passwordIcon="lock",this.showPassword=!0):(this.passwordIcon="lock-open",this.showPassword=!1)}}};if(!Array){const u=e.resolveComponent("uv-input"),r=e.resolveComponent("uv-form-item"),n=e.resolveComponent("uv-icon"),i=e.resolveComponent("uv-button"),o=e.resolveComponent("uv-form");(u+r+n+i+o)()}const c=()=>"../../../uni_modules/uv-input/components/uv-input/uv-input.js",p=()=>"../../../uni_modules/uv-form/components/uv-form-item/uv-form-item.js",d=()=>"../../../uni_modules/uv-icon/components/uv-icon/uv-icon.js",l=()=>"../../../uni_modules/uv-button/components/uv-button/uv-button.js",f=()=>"../../../uni_modules/uv-form/components/uv-form/uv-form.js";Math||(c+p+d+l+f)();function _(u,r,n,i,o,t){return{a:e.o(s=>o.form.userInfo.username=s),b:e.p({placeholder:"请输入用户名",modelValue:o.form.userInfo.username}),c:e.sr("item1","bc9871d6-1,bc9871d6-0"),d:e.p({label:"用户名",prop:"userInfo.username",borderBottom:!0}),e:e.o(t.showPasswordMethod),f:e.p({name:o.passwordIcon,color:"#black",size:"20"}),g:e.o(s=>o.form.userInfo.password=s),h:e.p({password:o.showPassword,placeholder:"请输入密码",suffixIconStyle:"color: #909399",modelValue:o.form.userInfo.password}),i:e.sr("item1","bc9871d6-3,bc9871d6-0"),j:e.p({label:"密码",prop:"userInfo.password",borderBottom:!0}),k:e.o(s=>t.submit()),l:e.p({type:"primary",text:"提交",customStyle:"margin-top: 10px"}),m:e.o(s=>t.login()),n:e.p({type:"primary",text:"登录",customStyle:"margin-top: 10px"}),o:e.o(s=>t.reset()),p:e.p({type:"error",text:"重置",customStyle:"margin-top: 10px"}),q:e.sr("uvFormRef","bc9871d6-0"),r:e.p({labelPosition:"left",labelWidth:"50px",model:o.form,rules:o.rules})}}const v=e._export_sfc(m,[["render",_],["__scopeId","data-v-bc9871d6"],["__file","D:/imformation/uni-app/stm32/pages/user/register/register.vue"]]);wx.createPage(v);
